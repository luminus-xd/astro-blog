---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '@consts';

const myIcon = 'https://images.microcms-assets.io/assets/086f9d42ce494f47b9788ee7f77e85e1/1678e66b9d6e4084ad2dfbf6cbd61734/luminus-renew.jpg';
---

<header>
    <nav>
        <h2>
            <a href="/">
                <picture>
                    <source type="image/avif" srcset={`${myIcon}?fm=avif&fit=crop&w=38&h=38 1x, ${myIcon}?fm=avif&fit=crop&w=38&h=38&dpr=3 2x`} />
                    <source type="image/webp" srcset={`${myIcon}?fm=webp&fit=crop&w=38&h=38 1x, ${myIcon}?fm=webp&fit=crop&w=38&h=38&dpr=3 2x`} />
                    <img srcset=`${myIcon}?fit=crop&w=38&h=38 1x, ${myIcon}?fit=crop&w=38&h=38&dpr=3 2x` width="38" alt="38" />
                </picture>
                <span>{SITE_TITLE}</span>
            </a>
        </h2>
        <ul class="internal-links">
            <li>
                <HeaderLink href="/blog/">Blog</HeaderLink>
            </li>
            <li>
                <HeaderLink href="/about">About</HeaderLink>
            </li>
        </ul>
    </nav>
</header>
<style>
    header {
        margin: 0;
        padding: 0;
        box-shadow: 0 2px 8px rgba(var(--black), 5%);
    }
    h2 {
        margin: 0;
        font-size: 1em;
    }
    h2 a {
        display: grid;
        grid-template-columns: auto auto;
        align-items: center;
        gap: 12px;
    }
    h2 a {
        text-decoration: none;
    }
    h2 img {
        display: block;
        width: 2.4em;
        height: 2.4em;
        border-radius: 12px;
    }
    h2 a:hover:is(h2 img) {
        filter: brightness(0.8);
    }
    h2 span {
        color: var(--color-text-main);
    }
    nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    nav a {
        padding: 1em 0.8em;
        border-bottom: 4px solid transparent;
        text-decoration: none;
        transition: background 200ms ease;
    }
    nav a:hover,
    nav a:focus-visible {
        background: var(--color-bg-sub-2);
    }
    nav a.active {
        text-decoration: none;
        border-bottom-color: var(--color-primary);
    }
    @media (prefers-color-scheme: dark) {
        nav a.active {
            border-bottom-color: var(--color-primary-light);
        }
    }
    .internal-links {
        display: flex;
        margin-right: 0.5em;
    }
</style>
